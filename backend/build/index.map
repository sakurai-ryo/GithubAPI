{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./models/favorite.js","webpack:///./models/index.js","webpack:///./node_modules/graphpack/config/index.js","webpack:///./node_modules/graphpack/config/webpack.config.js","webpack:///./node_modules/graphpack/lib/server.js","webpack:///./node_modules/graphpack/lib/srcFiles.js","webpack:///./src sync ^\\.\\/(context|context\\/index)\\.(js|ts)$","webpack:///./src sync ^\\.\\/(resolvers|resolvers\\/index)\\.(js|ts)$","webpack:///./src sync ^\\.\\/(schema|schema\\/index)\\.(gql|graphql|js|ts)$","webpack:///./src/resolvers.js","webpack:///./src/schema.js","webpack:///external \"apollo-server\"","webpack:///external \"apollo-server-express\"","webpack:///external \"babel-loader\"","webpack:///external \"babel-preset-graphpack\"","webpack:///external \"cosmiconfig\"","webpack:///external \"friendly-errors-webpack-plugin\"","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///external \"sequelize\"","webpack:///external \"webpack\"","webpack:///external \"webpack-node-externals\""],"names":["module","exports","sequelize","DataTypes","Favorite","define","name","STRING","openGraphImageUrl","stargazers","INTEGER","url","associate","models","fs","require","path","Sequelize","basename","__filename","env","process","config","__dirname","db","use_env_variable","database","username","password","forEach","model","console","log","cosmiconfig","webpack","defaultConfig","explorer","search","loadServerConfig","result","userConfig","mode","port","Number","PORT","server","loadWebpackConfig","FriendlyErrorsWebpackPlugin","nodeExternals","isDev","isWebpack","__webpack_modules__","hasBabelRc","existsSync","resolve","info","devtool","entry","index","externals","whitelist","rules","test","use","loader","options","babelrc","cacheDirectory","presets","undefined","type","node","optimization","noEmitOnErrors","output","filename","libraryTarget","join","cwd","sourceMapFilename","performance","hints","plugins","optimize","LimitChunkCountPlugin","maxChunks","EnvironmentPlugin","DEBUG","GRAPHPACK_SRC_DIR","NODE_ENV","clearConsole","extensions","stats","target","resolvers","Object","keys","length","Error","createServer","applyMiddleware","serverPort","app","listen","ApolloExpressServer","graphqlPath","ApolloServer","then","startServer","context","typeDefs","importFirst","req","map","mod","default","PubSub","pubsub","EVENT","FAVORITE_CRAETED","FAVORITE_DELETED","Query","favorites","parent","args","findAll","favorite","Mutation","createFav","newFav","create","publish","deleteFav","id","deletedFav","findOne","where","dataValues","createdAt","updatedAt","destroy","error","catch","Subscription","subscribe","asyncIterator","gql"],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;;;;;;;;;;;;AClFa;;AAEbA,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACzC,QAAMC,QAAQ,GAAGF,SAAS,CAACG,MAAV,CAAiB,UAAjB,EAA6B;AAC5CC,QAAI,EAAEH,SAAS,CAACI,MAD4B;AAE5CC,qBAAiB,EAAEL,SAAS,CAACI,MAFe;AAG5CE,cAAU,EAAEN,SAAS,CAACO,OAHsB;AAI5CC,OAAG,EAAER,SAAS,CAACI;AAJ6B,GAA7B,EAKd,EALc,CAAjB;;AAMAH,UAAQ,CAACQ,SAAT,GAAqB,UAAUC,MAAV,EAAkB,CACrC;AACD,GAFD;;AAGA,SAAOT,QAAP;AACD,CAXD,C;;;;;;;;;;;;ACFA,kDAAa;;AAEb,MAAMU,EAAE,GAAGC,mBAAO,CAAC,cAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,mBAAO,CAAC,kBAAD,CAApB;;AACA,MAAME,SAAS,GAAGF,mBAAO,CAAC,4BAAD,CAAzB;;AACA,MAAMG,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAjB;AACA,MAAMC,GAAG,GAAGC,aAAA,IAAwB,KAApC;;AACA,MAAMC,MAAM,GAAGP,mBAAO,CAACQ,4DAAD,CAAP,CAA8CH,GAA9C,CAAf;;AACA,MAAMI,EAAE,GAAG,EAAX;AAEA,IAAItB,SAAJ;;AACA,IAAIoB,MAAM,CAACG,gBAAX,EAA6B;AAC3BvB,WAAS,GAAG,IAAIe,SAAJ,CAAcI,OAAO,CAACD,GAAR,CAAYE,MAAM,CAACG,gBAAnB,CAAd,EAAoDH,MAApD,CAAZ;AACD,CAFD,MAEO;AACLpB,WAAS,GAAG,IAAIe,SAAJ,CAAcK,MAAM,CAACI,QAArB,EAA+BJ,MAAM,CAACK,QAAtC,EAAgDL,MAAM,CAACM,QAAvD,EAAiEN,MAAjE,CAAZ;AACD;AAED;;;;;;;;;;;;;;;;;;AAiBA,MAAMT,MAAM,GAAG,CACbE,mBAAO,CAAC,wCAAD,CAAP,CAAsBb,SAAtB,EAAiCe,SAAjC,CADa,CAAf;AAGAJ,MAAM,CAACgB,OAAP,CAAeC,KAAK,IAAI;AACtBN,IAAE,CAACM,KAAK,CAACxB,IAAP,CAAF,GAAiBwB,KAAjB;AACD,CAFD;AAIAjB,MAAM,CAACgB,OAAP,CAAeC,KAAK,IAAI;AACtB,MAAIN,EAAE,CAACM,KAAK,CAACxB,IAAP,CAAF,CAAeM,SAAnB,EAA8B;AAC5BmB,WAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,KAAK,CAACxB,IAA7B;AACAkB,MAAE,CAACM,KAAK,CAACxB,IAAP,CAAF,CAAeM,SAAf,CAAyBY,EAAzB;AACD;AACF,CALD;AAOAA,EAAE,CAACtB,SAAH,GAAeA,SAAf;AACAsB,EAAE,CAACP,SAAH,GAAeA,SAAf;AAEAjB,MAAM,CAACC,OAAP,GAAiBuB,EAAjB,C;;;;;;;;;;;;ACnDA,MAAMS,WAAW,GAAGlB,mBAAO,CAAC,gCAAD,CAA3B;;AACA,MAAMmB,OAAO,GAAGnB,mBAAO,CAAC,wBAAD,CAAvB;;AACA,MAAMoB,aAAa,GAAGpB,mBAAO,CAAC,2EAAD,CAA7B;;AAEA,MAAMqB,QAAQ,GAAGH,WAAW,CAAC,WAAD,CAAX,CAAyBI,MAAzB,EAAjB;;AAEA,MAAMC,gBAAgB,GAAG,YAAY;AACnC,QAAMC,MAAM,GAAG,MAAMH,QAArB;AACA,QAAMI,UAAU,GAAGD,MAAM,GACrB,OAAOA,MAAM,CAACjB,MAAd,KAAyB,UAAzB,GACEiB,MAAM,CAACjB,MAAP,CAAca,aAAa,CAACM,IAA5B,CADF,GAEEF,MAAM,CAACjB,MAHY,GAIrB,EAJJ;AAMA,SAAO;AAAEoB,QAAI,EAAEC,MAAM,CAACtB,OAAO,CAACD,GAAR,CAAYwB,IAAb,CAAd;AAAkC,OAAGJ,UAAU,CAACK;AAAhD,GAAP;AACD,CATD;;AAWA,MAAMC,iBAAiB,GAAG,YAAY;AACpC,QAAMP,MAAM,GAAG,MAAMH,QAArB;AACA,QAAMI,UAAU,GAAGD,MAAM,GACrB,OAAOA,MAAM,CAACjB,MAAd,KAAyB,UAAzB,GACEiB,MAAM,CAACjB,MAAP,CAAca,aAAa,CAACM,IAA5B,CADF,GAEEF,MAAM,CAACjB,MAHY,GAIrB,EAJJ;;AAMA,MAAI,OAAOkB,UAAU,CAACN,OAAlB,KAA8B,UAAlC,EAA8C;AAC5C,WAAOM,UAAU,CAACN,OAAX,CAAmB;AAAEZ,YAAM,EAAEa,aAAV;AAAyBD;AAAzB,KAAnB,CAAP;AACD;;AAED,SAAO,EAAE,GAAGC,aAAL;AAAoB,OAAGK,UAAU,CAACN;AAAlC,GAAP;AACD,CAbD;;AAeAjC,OAAO,CAACqC,gBAAR,GAA2BA,gBAA3B;AACArC,OAAO,CAAC6C,iBAAR,GAA4BA,iBAA5B,C;;;;;;;;;;;ACjCA,MAAMC,2BAA2B,GAAGhC,mBAAO,CAAC,sEAAD,CAA3C;;AACA,MAAMD,EAAE,GAAGC,mBAAO,CAAC,cAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,mBAAO,CAAC,kBAAD,CAApB;;AACA,MAAMmB,OAAO,GAAGnB,mBAAO,CAAC,wBAAD,CAAvB;;AACA,MAAMiC,aAAa,GAAGjC,mBAAO,CAAC,sDAAD,CAA7B;;AAEA,MAAMkC,KAAK,GAAG5B,aAAA,KAAyB,YAAvC;AACA,MAAM6B,SAAS,GAAG,OAAOC,qBAAP,KAA+B,QAAjD;AACA,MAAMC,UAAU,GAAGtC,EAAE,CAACuC,UAAH,CAAcrC,IAAI,CAACsC,OAAL,CAAa,iBAAb,CAAd,CAAnB;;AAEA,IAAIF,UAAU,IAAI,CAACF,SAAnB,EAA8B;AAC5BnB,SAAO,CAACwB,IAAR,CAAa,mDAAb;AACD;;AAEDvD,MAAM,CAACC,OAAP,GAAiB;AACfuD,SAAO,EAAE,YADM;AAEfC,OAAK,EAAE;AACL;AACAC,SAAK,EAAE,CAAC,WAAD;AAFF,GAFQ;AAMf;AACA;AACA;AACAC,WAAS,EAAE,CAACX,aAAa,CAAC;AAAEY,aAAS,EAAE,CAAC,aAAD;AAAb,GAAD,CAAd,CATI;AAUfnB,MAAI,EAAEQ,KAAK,GAAG,aAAH,GAAmB,YAVf;AAWfjD,QAAM,EAAE;AACN6D,SAAK,EAAE,CACL;AACEC,UAAI,EAAE,iBADR;AAEEC,SAAG,EAAE;AAFP,KADK,EAKL;AACED,UAAI,EAAE,YADR;AAEEC,SAAG,EAAE,CACH;AACEC,cAAM,EAAEjD,mBAAA,CAAgB,kCAAhB,CADV;AAEEkD,eAAO,EAAE;AACPC,iBAAO,EAAE,IADF;AAEPC,wBAAc,EAAE,IAFT;AAGPC,iBAAO,EAAEhB,UAAU,GACfiB,SADe,GAEf,CAACtD,mBAAA,CAAgB,sDAAhB,CAAD;AALG;AAFX,OADG;AAFP,KALK,EAoBL;AACE+C,UAAI,EAAE,QADR;AAEEQ,UAAI,EAAE;AAFR,KApBK;AADD,GAXO;AAsCfC,MAAI,EAAE;AACJpD,cAAU,EAAE,IADR;AAEJI,aAAS,EAAE;AAFP,GAtCS;AA0CfiD,cAAY,EAAE;AAAEC,kBAAc,EAAE;AAAlB,GA1CC;AA2CfC,QAAM,EAAE;AACNC,YAAQ,EAAE,WADJ;AAENC,iBAAa,EAAE,WAFT;AAGN5D,QAAI,EAAEA,IAAI,CAAC6D,IAAL,CAAUxD,OAAO,CAACyD,GAAR,EAAV,EAAyB,SAAzB,CAHA;AAINC,qBAAiB,EAAE;AAJb,GA3CO;AAiDfC,aAAW,EAAE;AACXC,SAAK,EAAE;AADI,GAjDE;AAoDfC,SAAO,EAAE,CACP,IAAIhD,OAAO,CAACiD,QAAR,CAAiBC,qBAArB,CAA2C;AAAEC,aAAS,EAAE;AAAb,GAA3C,CADO,EAEP,IAAInD,OAAO,CAACoD,iBAAZ,CAA8B;AAC5BC,SAAK,EAAE,KADqB;AAE5BC,qBAAiB,EAAExE,IAAI,CAACsC,OAAL,CAAajC,OAAO,CAACyD,GAAR,EAAb,EAA4B,KAA5B,CAFS;AAG5BW,YAAQ,EAAE;AAHkB,GAA9B,CAFO,EAOP,IAAI1C,2BAAJ,CAAgC;AAAE2C,gBAAY,EAAEzC;AAAhB,GAAhC,CAPO,CApDM;AA6DfK,SAAO,EAAE;AACPqC,cAAU,EAAE,CAAC,KAAD,EAAQ,KAAR;AADL,GA7DM;AAgEfC,OAAK,EAAE,SAhEQ;AAiEfC,QAAM,EAAE;AAjEO,CAAjB,C;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA,IAAI,EAAEC,mDAAS,IAAIC,MAAM,CAACC,IAAP,CAAYF,mDAAZ,EAAuBG,MAAvB,GAAgC,CAA/C,CAAJ,EAAuD;AACrD,QAAMC,KAAK,CACR,4EADQ,CAAX;AAGD;;AAED,MAAMC,YAAY,GAAG7E,MAAM,IAAI;AAC7B,QAAM;AAAE8E,mBAAF;AAAmB1D,QAAI,EAAE2D,UAAzB;AAAqC,OAAGpC;AAAxC,MAAoD3C,MAA1D;AACA,QAAMoB,IAAI,GAAGC,MAAM,CAACtB,OAAO,CAACD,GAAR,CAAYwB,IAAb,CAAN,IAA4ByD,UAA5B,IAA0C,IAAvD,CAF6B,CAG7B;AAEA;;AACA,MACED,eAAe,IACfA,eAAe,CAACE,GADhB,IAEA,OAAOF,eAAe,CAACE,GAAhB,CAAoBC,MAA3B,KAAsC,UAHxC,EAIE;AACA,UAAM1D,MAAM,GAAG,IAAI2D,kEAAJ,CAAwBvC,OAAxB,CAAf;AACApB,UAAM,CAACuD,eAAP,CAAuBA,eAAvB;AAEA,WAAOA,eAAe,CAACE,GAAhB,CAAoBC,MAApB,CAA2B;AAAE7D;AAAF,KAA3B,EAAqC,MAC1CX,OAAO,CAACC,GAAR,CACG,uCAAsCU,IAAK,GAAEG,MAAM,CAAC4D,WAAY,EADnE,CADK,CAAP;AAKD,GAnB4B,CAqB7B;;;AACA,QAAM5D,MAAM,GAAG,IAAI6D,0DAAJ,CAAiBzC,OAAjB,CAAf;AAEA,SAAOpB,MAAM,CACV0D,MADI,CACG;AAAE7D;AAAF,GADH,EAEJiE,IAFI,CAEC,CAAC;AAAEhG;AAAF,GAAD,KAAaoB,OAAO,CAACC,GAAR,CAAa,sBAAqBrB,GAAI,EAAtC,CAFd,CAAP;AAGD,CA3BD;;AA6BA,MAAMiG,WAAW,GAAG,YAAY;AAC9B;AACA,QAAMtF,MAAM,GAAG,MAAMgB,gEAAgB,EAArC;AAEA6D,cAAY,CAAC,EAAE,GAAG7E,MAAL;AAAauF,8DAAb;AAAsBf,kEAAtB;AAAiCgB,gEAAQA;AAAzC,GAAD,CAAZ;AACD,CALD;;AAOAF,WAAW,G;;;;;;;;;;;;AC/CX;AAAA;AAAA;AAAA;AAAA;AAAO,MAAMG,WAAW,GAAGC,GAAG,IAC5BA,GAAG,CAAChB,IAAJ,GAAWiB,GAAX,CAAeC,GAAG,IAAIF,GAAG,CAACE,GAAD,CAAH,CAASC,OAAT,IAAoBH,GAAG,CAACE,GAAD,CAA7C,EAAoD,CAApD,CADK,C,CAGP;;AACO,MAAML,OAAO,GAAGE,WAAW,CAChChG,uFADgC,CAA3B;AAOA,MAAM+E,SAAS,GAAGiB,WAAW,CAClChG,2FADkC,CAA7B;AAOA,MAAM+F,QAAQ,GAAGC,WAAW,CACjChG,iGADiC,CAA5B,C;;;;;;;;;;;AClBP;AACA;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA,4F;;;;;;;;;;;ACRA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2F;;;;;;;;;;;ACtBA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iG;;;;;;;;;;;ACtBA,MAAMS,EAAE,GAAGT,mBAAO,CAAC,qCAAD,CAAlB;;AACA,MAAM;AACFqG;AADE,IAEFrG,mBAAO,CAAC,oCAAD,CAFX;;AAGA,MAAMsG,MAAM,GAAG,IAAID,MAAJ,EAAf;AAEA,MAAME,KAAK,GAAG;AACVC,kBAAgB,EAAE,WADR;AAEVC,kBAAgB,EAAE;AAFR,CAAd;AAKA,MAAM1B,SAAS,GAAG;AACd2B,OAAK,EAAE;AACH;AACAC,aAAS,EAAE,CAACC,MAAD,EAASC,IAAT,EAAef,OAAf,EAAwBtD,IAAxB,KAAiC;AACxC;AACA,aAAO/B,EAAE,CAACpB,QAAH,CAAYyH,OAAZ,GAAsBlB,IAAtB,CAA2BmB,QAAQ,IAAI;AAC1C,YAAI,CAACA,QAAL,EAAe/F,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAAf,KACK,OAAO8F,QAAP;AACR,OAHM,CAAP;AAIH;AARE,GADO;AAWdC,UAAQ,EAAE;AACNC,aAAS,EAAE,CAACL,MAAD,EAAS;AAChBrH,UADgB;AAEhBE,uBAFgB;AAGhBC,gBAHgB;AAIhBE;AAJgB,KAAT,EAKRkG,OALQ,EAKCtD,IALD,KAKU;AACjB,YAAM0E,MAAM,GAAG;AACX3H,YADW;AAEXE,yBAFW;AAGXC,kBAHW;AAIXE;AAJW,OAAf;AAMAa,QAAE,CAACpB,QAAH,CAAY8H,MAAZ,CAAmBD,MAAnB;AACAZ,YAAM,CAACc,OAAP,CAAeb,KAAK,CAACC,gBAArB,EAAuC;AACnC,SAACD,KAAK,CAACC,gBAAP,GAA0BU;AADS,OAAvC;AAGA,aAAOA,MAAP;AACH,KAlBK;AAmBNG,aAAS,EAAE,OAAOT,MAAP,EAAe;AACtBU;AADsB,KAAf,EAERxB,OAFQ,EAECtD,IAFD,KAEU;AACjB,UAAI+E,UAAJ;AACA,YAAM9G,EAAE,CAACpB,QAAH,CAAYmI,OAAZ,CAAoB;AACtBC,aAAK,EAAE;AACHH,YAAE,EAAEA;AADD;AADe,OAApB,EAIH1B,IAJG,CAIGmB,QAAD,IAAc;AAClBQ,kBAAU,GAAGR,QAAQ,CAACW,UAAtB;AACA,eAAOH,UAAU,CAACI,SAAlB;AACA,eAAOJ,UAAU,CAACK,SAAlB;AACA,YAAIb,QAAJ,EAAcA,QAAQ,CAACc,OAAT,GAAd,KACK7G,OAAO,CAAC8G,KAAR,CAAc,oBAAd;AACR,OAVK,EAUHC,KAVG,CAUG/G,OAAO,CAACC,GAVX,CAAN;AAWAqF,YAAM,CAACc,OAAP,CAAeb,KAAK,CAACE,gBAArB,EAAuC;AACnC,SAACF,KAAK,CAACE,gBAAP,GAA0Bc;AADS,OAAvC;AAGA,aAAOA,UAAP;AACH;AAtCK,GAXI;AAmDdS,cAAY,EAAE;AACV,KAACzB,KAAK,CAACC,gBAAP,GAA0B;AACtByB,eAAS,EAAE,MAAM3B,MAAM,CAAC4B,aAAP,CAAqB,CAAC3B,KAAK,CAACC,gBAAP,CAArB;AADK,KADhB;AAIV,KAACD,KAAK,CAACE,gBAAP,GAA0B;AACtBwB,eAAS,EAAE,MAAM3B,MAAM,CAAC4B,aAAP,CAAqB,CAAC3B,KAAK,CAACE,gBAAP,CAArB;AADK;AAJhB;AAnDA,CAAlB;AA6DAxH,MAAM,CAACC,OAAP,GAAiB6F,SAAjB,C;;;;;;;;;;;ACxEA,MAAM;AACJoD;AADI,IAEFnI,mBAAO,CAAC,oDAAD,CAFX;;AAIA,MAAM+F,QAAQ,GAAGoC,GAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAAtB;AAoCAlJ,MAAM,CAACC,OAAP,GAAiB6G,QAAjB,C;;;;;;;;;;;;;;;;;;;;;;;ACxCA,0C;;;;;;;;;;;ACAA,kD;;;;;;;;;;;ACAA,yC;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,2D;;;;;;;;;;;ACAA,+B;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,sC;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,mD","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","'use strict';\n\nmodule.exports = (sequelize, DataTypes) => {\n  const Favorite = sequelize.define('Favorite', {\n    name: DataTypes.STRING,\n    openGraphImageUrl: DataTypes.STRING,\n    stargazers: DataTypes.INTEGER,\n    url: DataTypes.STRING\n  }, {});\n  Favorite.associate = function (models) {\n    // associations can be defined here\n  };\n  return Favorite;\n};","'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(__dirname + '/../config/config.json')[env];\nconst db = {};\n\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\n/*\nfs\n  .readdirSync(__dirname)\n  .filter(file => {\n    return (file.indexOf('.') !== 0) && (file !== basename) && (file.slice(-3) === '.js');\n  })\n  .forEach(file => {\n    const model = sequelize['import'](path.join(__dirname, file));\n    db[model.name] = model;\n  });\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n*/\n\nconst models = [\n  require('./favorite')(sequelize, Sequelize),\n]\nmodels.forEach(model => {\n  db[model.name] = model\n})\n\nmodels.forEach(model => {\n  if (db[model.name].associate) {\n    console.log('entered', model.name)\n    db[model.name].associate(db)\n  }\n})\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;","const cosmiconfig = require('cosmiconfig');\nconst webpack = require('webpack');\nconst defaultConfig = require('./webpack.config');\n\nconst explorer = cosmiconfig('graphpack').search();\n\nconst loadServerConfig = async () => {\n  const result = await explorer;\n  const userConfig = result\n    ? typeof result.config === 'function'\n      ? result.config(defaultConfig.mode)\n      : result.config\n    : {};\n\n  return { port: Number(process.env.PORT), ...userConfig.server };\n};\n\nconst loadWebpackConfig = async () => {\n  const result = await explorer;\n  const userConfig = result\n    ? typeof result.config === 'function'\n      ? result.config(defaultConfig.mode)\n      : result.config\n    : {};\n\n  if (typeof userConfig.webpack === 'function') {\n    return userConfig.webpack({ config: defaultConfig, webpack });\n  }\n\n  return { ...defaultConfig, ...userConfig.webpack };\n};\n\nexports.loadServerConfig = loadServerConfig;\nexports.loadWebpackConfig = loadWebpackConfig;\n","const FriendlyErrorsWebpackPlugin = require('friendly-errors-webpack-plugin');\nconst fs = require('fs');\nconst path = require('path');\nconst webpack = require('webpack');\nconst nodeExternals = require('webpack-node-externals');\n\nconst isDev = process.env.NODE_ENV !== 'production';\nconst isWebpack = typeof __webpack_modules__ === 'object';\nconst hasBabelRc = fs.existsSync(path.resolve('babel.config.js'));\n\nif (hasBabelRc && !isWebpack) {\n  console.info('🐠 Using babel.config.js defined in your app root');\n}\n\nmodule.exports = {\n  devtool: 'source-map',\n  entry: {\n    // We take care of setting up entry file under lib/index.js\n    index: ['graphpack'],\n  },\n  // When bundling with Webpack for the backend you usually don't want to bundle\n  // its node_modules dependencies. This creates an externals function that\n  // ignores node_modules when bundling in Webpack.\n  externals: [nodeExternals({ whitelist: [/^graphpack$/] })],\n  mode: isDev ? 'development' : 'production',\n  module: {\n    rules: [\n      {\n        test: /\\.(gql|graphql)/,\n        use: 'graphql-tag/loader',\n      },\n      {\n        test: /\\.(js|ts)$/,\n        use: [\n          {\n            loader: require.resolve('babel-loader'),\n            options: {\n              babelrc: true,\n              cacheDirectory: true,\n              presets: hasBabelRc\n                ? undefined\n                : [require.resolve('babel-preset-graphpack')],\n            },\n          },\n        ],\n      },\n      {\n        test: /\\.mjs$/,\n        type: 'javascript/auto',\n      },\n    ],\n  },\n  node: {\n    __filename: true,\n    __dirname: true,\n  },\n  optimization: { noEmitOnErrors: true },\n  output: {\n    filename: '[name].js',\n    libraryTarget: 'commonjs2',\n    path: path.join(process.cwd(), './build'),\n    sourceMapFilename: '[name].map',\n  },\n  performance: {\n    hints: false,\n  },\n  plugins: [\n    new webpack.optimize.LimitChunkCountPlugin({ maxChunks: 1 }),\n    new webpack.EnvironmentPlugin({\n      DEBUG: false,\n      GRAPHPACK_SRC_DIR: path.resolve(process.cwd(), 'src'),\n      NODE_ENV: 'development',\n    }),\n    new FriendlyErrorsWebpackPlugin({ clearConsole: isDev }),\n  ],\n  resolve: {\n    extensions: ['.ts', '.js'],\n  },\n  stats: 'minimal',\n  target: 'node',\n};\n","import { ApolloServer } from 'apollo-server';\nimport { ApolloServer as ApolloExpressServer } from 'apollo-server-express';\nimport { context, resolvers, typeDefs } from './srcFiles';\nimport { loadServerConfig } from '../config';\n\nif (!(resolvers && Object.keys(resolvers).length > 0)) {\n  throw Error(\n    `Couldn't find any resolvers. Please add resolvers to your src/resolvers.js`,\n  );\n}\n\nconst createServer = config => {\n  const { applyMiddleware, port: serverPort, ...options } = config;\n  const port = Number(process.env.PORT) || serverPort || 4000;\n  // Pull out fields that are not relevant for the apollo server\n\n  // Use apollo-server-express when middleware detected\n  if (\n    applyMiddleware &&\n    applyMiddleware.app &&\n    typeof applyMiddleware.app.listen === 'function'\n  ) {\n    const server = new ApolloExpressServer(options);\n    server.applyMiddleware(applyMiddleware);\n\n    return applyMiddleware.app.listen({ port }, () =>\n      console.log(\n        `🚀 Server ready at http://localhost:${port}${server.graphqlPath}`,\n      ),\n    );\n  }\n\n  // Use apollo-server\n  const server = new ApolloServer(options);\n\n  return server\n    .listen({ port })\n    .then(({ url }) => console.log(`🚀 Server ready at ${url}`));\n};\n\nconst startServer = async () => {\n  // Load server config from graphpack.config.js\n  const config = await loadServerConfig();\n\n  createServer({ ...config, context, resolvers, typeDefs });\n};\n\nstartServer();\n","export const importFirst = req =>\n  req.keys().map(mod => req(mod).default || req(mod))[0];\n\n// Optionally import modules\nexport const context = importFirst(\n  require.context(\n    process.env.GRAPHPACK_SRC_DIR,\n    true,\n    /^\\.\\/(context|context\\/index)\\.(js|ts)$/,\n  ),\n);\nexport const resolvers = importFirst(\n  require.context(\n    process.env.GRAPHPACK_SRC_DIR,\n    true,\n    /^\\.\\/(resolvers|resolvers\\/index)\\.(js|ts)$/,\n  ),\n);\nexport const typeDefs = importFirst(\n  require.context(\n    process.env.GRAPHPACK_SRC_DIR,\n    true,\n    /^\\.\\/(schema|schema\\/index)\\.(gql|graphql|js|ts)$/,\n  ),\n);\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"./src sync recursive ^\\\\.\\\\/(context|context\\\\/index)\\\\.(js|ts)$\";","var map = {\n\t\"./resolvers.js\": \"./src/resolvers.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src sync recursive ^\\\\.\\\\/(resolvers|resolvers\\\\/index)\\\\.(js|ts)$\";","var map = {\n\t\"./schema.js\": \"./src/schema.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src sync recursive ^\\\\.\\\\/(schema|schema\\\\/index)\\\\.(gql|graphql|js|ts)$\";","const db = require('../models/');\r\nconst {\r\n    PubSub\r\n} = require('apollo-server');\r\nconst pubsub = new PubSub();\r\n\r\nconst EVENT = {\r\n    FAVORITE_CRAETED: 'createFav',\r\n    FAVORITE_DELETED: 'deleteFav',\r\n};\r\n\r\nconst resolvers = {\r\n    Query: {\r\n        // 複数件検索（簡単のため全件検索としている）\r\n        favorites: (parent, args, context, info) => {\r\n            // Sequelizeのモデルを使ってデータを取得する\r\n            return db.Favorite.findAll().then(favorite => {\r\n                if (!favorite) console.log(\"データを取得できませんでした\");\r\n                else return favorite;\r\n            });\r\n        }\r\n    },\r\n    Mutation: {\r\n        createFav: (parent, {\r\n            name,\r\n            openGraphImageUrl,\r\n            stargazers,\r\n            url\r\n        }, context, info) => {\r\n            const newFav = {\r\n                name,\r\n                openGraphImageUrl,\r\n                stargazers,\r\n                url\r\n            };\r\n            db.Favorite.create(newFav);\r\n            pubsub.publish(EVENT.FAVORITE_CRAETED, {\r\n                [EVENT.FAVORITE_CRAETED]: newFav\r\n            });\r\n            return newFav;\r\n        },\r\n        deleteFav: async (parent, {\r\n            id\r\n        }, context, info) => {\r\n            let deletedFav;\r\n            await db.Favorite.findOne({\r\n                where: {\r\n                    id: id\r\n                }\r\n            }).then((favorite) => {\r\n                deletedFav = favorite.dataValues;\r\n                delete deletedFav.createdAt;\r\n                delete deletedFav.updatedAt;\r\n                if (favorite) favorite.destroy();\r\n                else console.error('Favorite not found')\r\n            }).catch(console.log);\r\n            pubsub.publish(EVENT.FAVORITE_DELETED, {\r\n                [EVENT.FAVORITE_DELETED]: deletedFav\r\n            });\r\n            return deletedFav;\r\n        }\r\n    },\r\n    Subscription: {\r\n        [EVENT.FAVORITE_CRAETED]: {\r\n            subscribe: () => pubsub.asyncIterator([EVENT.FAVORITE_CRAETED])\r\n        },\r\n        [EVENT.FAVORITE_DELETED]: {\r\n            subscribe: () => pubsub.asyncIterator([EVENT.FAVORITE_DELETED])\r\n        },\r\n    }\r\n};\r\n\r\nmodule.exports = resolvers;","const {\r\n  gql\r\n} = require('apollo-server-express');\r\n\r\nconst typeDefs = gql `\r\ntype setFavorite {\r\n  name: String!\r\n  openGraphImageUrl: String!\r\n  stargazers: Int! \r\n  url: String!\r\n}\r\ntype returnFavorite{\r\n  id: ID!\r\n  name: String!\r\n  openGraphImageUrl: String!\r\n  stargazers: Int! \r\n  url: String!\r\n}\r\ntype Query {\r\n  favorites: [returnFavorite!]!\r\n}\r\ntype Mutation {\r\n  # 登録\r\n  createFav(\r\n    name: String!\r\n    openGraphImageUrl: String!\r\n    stargazers: Int!\r\n    url: String!\r\n  ): setFavorite!\r\n    \r\n  # 削除\r\n  deleteFav(\r\n    id: ID!\r\n  ): returnFavorite!\r\n}\r\ntype Subscription {\r\n    createFav: returnFavorite!\r\n    deleteFav: returnFavorite!\r\n}\r\n`\r\nmodule.exports = typeDefs;","module.exports = require(\"apollo-server\");","module.exports = require(\"apollo-server-express\");","module.exports = require(\"babel-loader\");","module.exports = require(\"babel-preset-graphpack\");","module.exports = require(\"cosmiconfig\");","module.exports = require(\"friendly-errors-webpack-plugin\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"sequelize\");","module.exports = require(\"webpack\");","module.exports = require(\"webpack-node-externals\");"],"sourceRoot":""}